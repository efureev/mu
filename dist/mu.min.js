var µ=µ||{};!function(){var a="object"==typeof self&&self.self===self&&self||"object"==typeof a&&a.global===a&&a||this;µ.global=a,µ.DEBUG=!1,µ.VERSION="0.0.8",µ.apply=function(a,b,c){if(c&&µ.apply(a,c),a&&b&&"object"==typeof b)for(var d in b)a[d]=b[d];return a},µ.isBrowser=function(){return!("undefined"!=typeof exports&&!exports.nodeType)},µ.isBrowser()?a.µ=µ:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=µ),exports.µ=µ)}();var toString=Object.prototype.toString,enumerables=["valueOf","toLocaleString","toString","constructor"],core={isUndefined:function(a){return void 0===a},isDefined:function(a){return!this.isUndefined(a)},isNull:function(a){return null===a},isDate:function(a){return"[object Date]"===toString.call(a)},isObject:"[object Object]"===toString.call(null)?function(a){return null!==a&&void 0!==a&&"[object Object]"===toString.call(a)&&void 0===a.ownerDocument}:function(a){return"[object Object]"===toString.call(a)},isBoolean:function(a){return a===!0||a===!1||"[object Boolean]"===toString.call(a)},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return"string"==typeof a},noop:function(){},isEmpty:function(a,b){return null==a||!b&&""===a||this.isEmptyObject(a)||this.isArray(a)&&0===a.length},isEmptyObject:function(a){if(!this.isObject(a))return!1;for(var b in a)return!1;return!0},isFunction:function(a){return"function"==typeof a||!1},isNative:function(a){var b=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),c=typeof a;return"function"==c?b.test(Function.prototype.toString.call(a)):a&&"object"==c&&/^\[object .+?Constructor\]$/.test(toString.call(a))||!1},has:function(a,b){return null!=a&&hasOwnProperty.call(a,b)},now:Date.now||function(){return(new Date).getTime()},isArray:"isArray"in Array?Array.isArray:function(a){return"[object Array]"===toString.call(a)},clone:function(a){if(null===a||void 0===a)return a;if(a.nodeType&&a.cloneNode)return a.cloneNode(!0);var b,c,d,e,f,g=toString.call(a);if("[object Date]"===g)return new Date(a.getTime());if("[object Array]"===g)for(b=a.length,e=[];b--;)e[b]=µ.clone(a[b]);else if("[object Object]"===g&&a.constructor===Object){e={};for(f in a)e[f]=µ.clone(a[f]);if(enumerables)for(c=enumerables.length;c--;)d=enumerables[c],a.hasOwnProperty(d)&&(e[d]=a[d])}return e||a}};µ.apply(µ,core),µ.utils=µ.utils||{},µ.utils=function(){var a=1/0,b={toString:function(b){if(µ.isString(b))return b;if(µ.isEmpty(b))return"";var c=b+"";return"0"==c&&1/b==-a?"-0":c},trim:function(a){return µ.str.trim(a)},str_pad:function(a,b,c,d){var e,f="",g=function(a,b){for(var c="";c.length<b;)c+=a;return c=c.substr(0,b)};return a+="",c=void 0!==c?c:" ","STR_PAD_LEFT"!==d&&"STR_PAD_RIGHT"!==d&&"STR_PAD_BOTH"!==d&&(d="STR_PAD_RIGHT"),(e=b-a.length)>0&&("STR_PAD_LEFT"===d?a=g(c,e)+a:"STR_PAD_RIGHT"===d?a+=g(c,e):"STR_PAD_BOTH"===d&&(f=g(c,Math.ceil(e/2)),a=f+a+f,a=a.substr(0,b))),a},pad:function(a){return a<10?"0"+a.toString(10):a.toString(10)},getAbsoluteUrl:function(){var a;return function(b){return a||(a=document.createElement("a")),a.href=b,a.href}}};return b}(),µ.str=µ.str||{},µ.str=function(){var a=/^\s+|\s+$/g,b={A:"А",a:"а",E:"Е",e:"е",T:"Т",y:"у",O:"О",o:"о",P:"Р",p:"р",H:"Н",K:"К",X:"Х",x:"х",C:"С",c:"с",B:"В",M:"М"},c={trim:function(b){return b=µ.utils.toString(b),b?b.replace(a,""):b},lat2Rus:function(a){if(!µ.isEmpty(a))for(var c in b){var d=new RegExp(c,"g");a=a.replace(d,b[c])}return a}};return c}(),µ.array=µ.array||{},µ.array=function(){var a,b=function(a,b,c){return a.splice(b,c),a};return a={index:"indexOf"in Array.prototype?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){var d,e=a.length;for(d=c<0?Math.max(0,e+c):c||0;d<e;d++)if(a[d]===b)return d;return-1},unique:function(b){for(var c,d=[],e=0,f=b.length;e<f;e++)c=b[e],a.index(d,c)===-1&&d.push(c);return d},merge:function(){var b,c,d=slice.call(arguments),e=[];for(b=0,c=d.length;b<c;b++)e=e.concat(d[b]);return a.unique(e)},explode:function(a,b,c){if(arguments.length<2||µ.isUndefined(a)||µ.isUndefined(b))return null;if(µ.isEmpty(a))return!1;if(µ.isFunction(a)||µ.isObject(a)||µ.isFunction(b)||µ.isObject(b))return[""];a===!0&&(a="1"),a+="",b+="";var d=b.split(a);return µ.isUndefined(c)?d:(0===c&&(c=1),c>0?c>=d.length?d:d.slice(0,c-1).concat([d.slice(c-1).join(a)]):-c>=d.length?[]:(d.splice(d.length+c),d))},clean:function(a){for(var b,c=[],d=0,e=a.length;d<e;d++)b=a[d],µ.isEmpty(b)||c.push(b);return c},last:function(a){return a.pop()},first:function(a){return a.shift()},remove:function(a,b){var c=this.index(a,b);return this.removeIdx(a,c)},removeIdx:function(a,c){return null!==c&&c!==-1&&void 0!==c&&b(a,c,1),a},equals:function(a,b){var c,d=a.length,e=b.length;if(a===b)return!0;if(d!==e)return!1;for(c=0;c<d;++c)if(a[c]!==b[c])return!1;return!0}}}(),µ.format=µ.format||{},µ.format=function(){var a="р.",b=2,c=!0,d=" ",e=".",f=/[^\d\.]/g;return muFormat={currency:function(d,e,f,g){var h="",i=",0",j=0;for(d=+d,d<0&&(d=-d,h="-"),f=µ.isDefined(f)?f:b,i+=f>0?".":"";j<f;j++)i+="0";return d=muFormat.number(d,i),(g||!c)===!0?(e||a)+" "+h+d:h+d+" "+(e||a)},number:function(a,b,c){var g,h,i,j,k,l,m,n,o,p,q,r,s;if(µ.isUndefined(b))return a;if(a=muFormat.from(a,NaN),isNaN(a))return"";if(h=d,i=e,m=!1,q=a<0,a=Math.abs(a),k=b.indexOf(",")!==-1,s=b.replace(f,"").split("."),1<s.length?a=a.toFixed(s[1].length):2<s.length?console.error("Invalid number format, should have no more than 1 decimal"):a=a.toFixed(0),j=a.toString(),s=j.split("."),k){for(g=s[0],r=[],n=g.length,o=Math.floor(n/3),p=g.length%3||3,l=0;l<n;)0!==l&&(p=3),r[r.length]=g.substr(l,p),o-=1,l+=p;j=r.join(h),s[1]&&(j+=i+s[1])}else s[1]&&(j=s[0]+i+s[1]);return q&&(q=""!==j.replace(/[^1-9]/g,"")),(q?"-":"")+b.replace(/[\d,?\.?]+/,j)+(µ.isUndefined(c)?"":c)},from:function(a,b){return isFinite(a)&&(a=parseFloat(a)),isNaN(a)?b:a},round:function(a,b){var c=Number(a);return µ.isNumber(b)?(b=Math.pow(10,b),c=Math.round(a*b)/b):µ.isUndefined(b)&&(c=Math.round(c)),c}}}(),µ.event=µ.event||{},µ.event=function(){return muEvent={once:function(a,b){var c;return function(){return a&&(c=a.apply(b||this,arguments),a=null),c}},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},offLine:function(a,b){return!!µ.isBrowser()&&void window.addEventListener("load",function(){µ.isFunction(a)&&window.addEventListener("online",b),µ.isFunction(a)&&window.addEventListener("offline",a)})}}}(),µ.date=µ.date||{},µ.date=function(){var a;(function(){Date.now||(Date.now=function(){return(new Date).getTime()})})();return a={now:Date.now,toString:function(a){return a||(a=new Date),a.getFullYear()+"-"+µ.utils.pad(a.getMonth()+1,2,"0")+"-"+µ.utils.pad(a.getDate(),2,"0")+"T"+µ.utils.pad(a.getHours(),2,"0")+":"+µ.utils.pad(a.getMinutes(),2,"0")+":"+µ.utils.pad(a.getSeconds(),2,"0")},MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",dayNames:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNumbers:{"Январь":0,"Янв":0,"Февраль":1,"Фев":1,"Март":2,"Мар":2,"Апрель":3,"Апр":3,"Май":4,"Июнь":5,"Июн":5,"Июль":6,"Июл":6,"Август":7,"Авг":7,"Сентябрь":8,"Сент":8,"Октябрь":9,"Окт":9,"Ноябрь":10,"Ноя":10,"Декабрь":11,"Дек":11},getElapsed:function(b,c){return Math.abs(b-(c||a.now))},getShortMonthName:function(b){return a.monthNames[b].substring(0,3)},getShortDayName:function(b){return a.dayNames[b].substring(0,3)},getMonthNumber:function(b){return a.monthNumbers[b.substring(0,1).toUpperCase()+b.substring(1,3).toLowerCase()]},isEqual:function(a,b){return a&&b?a.getTime()===b.getTime():!(a||b)},clone:function(a){return new Date(a.getTime())},getDayOfYear:function(b){var c,d=0,e=a.clone(b),f=b.getMonth();for(c=0,e.setDate(1),e.setMonth(0);c<f;e.setMonth(++c))d+=a.getDaysInMonth(e);return d+b.getDate()-1},getWeekOfYear:function(){var a=864e5,b=7*a;return function(c){var d=nativeDate.UTC(c.getFullYear(),c.getMonth(),c.getDate()+3)/a,e=Math.floor(d/7),f=new Date(e*b).getUTCFullYear();return e-Math.floor(Date.UTC(f,0,7)/b)+1}}(),getFirstDayOfMonth:function(a){var b=(a.getDay()-(a.getDate()-1))%7;return b<0?b+7:b},getLastDayOfMonth:function(b){return a.getLastDateOfMonth(b).getDay()},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return 1===d&&a.isLeapYear(c)?29:b[d]}}(),getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(b){return new Date(b.getFullYear(),b.getMonth(),a.getDaysInMonth(b))},isLeapYear:function(a){var b=a.getFullYear();return!(0!==(3&b)||!(b%100||b%400===0&&b))},clearTime:function(b,c){if(isNaN(b.getTime()))return b;if(c)return a.clearTime(a.clone(b));var d,e,f=b.getDate();if(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b.getDate()!==f){for(d=1,e=a.add(b,a.HOUR,d);e.getDate()!==f;d++,e=a.add(b,a.HOUR,d));b.setDate(f),b.setHours(e.getHours())}return b},add:function(b,c,d){var e,f,g=a.clone(b),h=0;if(!c||0===d)return g;if(f=d-parseInt(d,10),d=parseInt(d,10))switch(c.toLowerCase()){case a.MILLI:g.setTime(g.getTime()+d);break;case a.SECOND:g.setTime(g.getTime()+1e3*d);break;case a.MINUTE:g.setTime(g.getTime()+60*d*1e3);break;case a.HOUR:g.setTime(g.getTime()+60*d*60*1e3);break;case a.DAY:g.setDate(g.getDate()+d);break;case a.MONTH:e=b.getDate(),e>28&&(e=Math.min(e,a.getLastDateOfMonth(a.add(a.getFirstDateOfMonth(b),a.MONTH,d)).getDate())),g.setDate(e),g.setMonth(b.getMonth()+d);break;case a.YEAR:e=b.getDate(),e>28&&(e=Math.min(e,a.getLastDateOfMonth(a.add(a.getFirstDateOfMonth(b),a.YEAR,d)).getDate())),g.setDate(e),g.setFullYear(b.getFullYear()+d)}if(f){switch(c.toLowerCase()){case a.MILLI:h=1;break;case a.SECOND:h=1e3;break;case a.MINUTE:h=6e4;break;case a.HOUR:h=36e5;break;case a.DAY:h=864e5;break;case a.MONTH:e=a.getDaysInMonth(g),h=864e5*e;break;case a.YEAR:e=a.isLeapYear(g)?366:365,h=864e5*e}h&&g.setTime(g.getTime()+h*f)}return g},subtract:function(b,c,d){return a.add(b,c,-d)},between:function(a,b,c){var d=a.getTime();return b.getTime()<=d&&d<=c.getTime()},diff:function(b,c,d){var e,f=+c-b;switch(d){case a.MILLI:return f;case a.SECOND:return Math.floor(f/1e3);case a.MINUTE:return Math.floor(f/6e4);case a.HOUR:return Math.floor(f/36e5);case a.DAY:return Math.floor(f/864e5);case"w":return Math.floor(f/6048e5);case a.MONTH:return e=12*c.getFullYear()+c.getMonth()-(12*b.getFullYear()+b.getMonth()),a.add(b,d,e)>c?e-1:e;case a.YEAR:return e=c.getFullYear()-b.getFullYear(),a.add(b,d,e)>c?e-1:e}},align:function(b,c,d){var e=new Date((+b));switch(c.toLowerCase()){case a.MILLI:return e;case a.SECOND:return e.setUTCSeconds(e.getUTCSeconds()-e.getUTCSeconds()%d),e.setUTCMilliseconds(0),e;case a.MINUTE:return e.setUTCMinutes(e.getUTCMinutes()-e.getUTCMinutes()%d),e.setUTCSeconds(0),e.setUTCMilliseconds(0),e;case a.HOUR:return e.setUTCHours(e.getUTCHours()-e.getUTCHours()%d),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),e;case a.DAY:return 7!==d&&14!==d||e.setUTCDate(e.getUTCDate()-e.getUTCDay()+1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),e;case a.MONTH:return e.setUTCMonth(e.getUTCMonth()-(e.getUTCMonth()-1)%d,1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),e;case a.YEAR:return e.setUTCFullYear(e.getUTCFullYear()-e.getUTCFullYear()%d,1,1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),b}}}}(),µ.object=µ.object||{},µ.object=function(){var a;return a={getSize:function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},getKeys:"function"==typeof Object.keys?function(a){return a?Object.keys(a):[]}:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c},getAllKeys:function(a){var b,c=[];for(b in a)c.push(b);return c},getKey:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]===b)return c;return null},merge:function(b){for(var c,d,e,f,g=1,h=arguments.length,i=a.merge,j=µ.clone;g<h;g++){c=arguments[g];for(d in c)e=c[d],e&&e.constructor===Object?(f=b[d],f&&f.constructor===Object?i(f,e):b[d]=j(e)):b[d]=e}return b},toQueryObjects:function(b,c,d){var e,f,g=a.toQueryObjects,h=[];if(µ.isArray(c))for(e=0,f=c.length;e<f;e++)d?h=h.concat(g(b+"["+e+"]",c[e],!0)):h.push({name:b,value:c[e]});else if(µ.isObject(c))for(e in c)c.hasOwnProperty(e)&&(d?h=h.concat(g(b+"["+e+"]",c[e],!0)):h.push({name:b,value:c[e]}));else h.push({name:b,value:c});return h},toQueryString:function(b,c){var d,e,f,g,h,i=[],j=[];for(d in b)b.hasOwnProperty(d)&&(i=i.concat(a.toQueryObjects(d,b[d],c)));for(e=0,f=i.length;e<f;e++)g=i[e],h=g.value,µ.isEmpty(h)?h="":µ.isDate(h)&&(h=µ.date.toString(h)),j.push(encodeURIComponent(g.name)+"="+encodeURIComponent(String(h)));return j.join("&")},fromQueryString:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=a.replace(queryRe,"").split("&"),r={};for(g=0,h=q.length;g<h;g++)if(i=q[g],i.length>0)if(d=i.split("="),e=d[0],e=e.replace(plusRe,"%20"),e=decodeURIComponent(e),f=d[1],void 0!==f?(f=f.replace(plusRe,"%20"),f=decodeURIComponent(f)):f="",b){if(l=e.match(keyRe),m=e.match(nameRe),!m)throw new Error('[µ.obj.fromQueryString] Malformed query string given, failed parsing name from "'+i+'"');if(e=m[0],n=[],null===l){r[e]=f;continue}for(j=0,k=l.length;j<k;j++)o=l[j],o=2===o.length?"":o.substring(1,o.length-1),n.push(o);for(n.unshift(e),c=r,j=0,k=n.length;j<k;j++)o=n[j],j===k-1?µ.isArray(c)&&""===o?c.push(f):c[o]=f:(void 0!==c[o]&&"string"!=typeof c[o]||(p=n[j+1],c[o]=µ.isNumeric(p)||""===p?[]:{}),c=c[o])}else r.hasOwnProperty(e)?(µ.isArray(r[e])||(r[e]=[r[e]]),r[e].push(f)):r[e]=f;return r}}}(),µ.DEBUG&&console.log("µ loaded");
//# sourceMappingURL=mu.min.js.map