{"version":3,"file":"clone.js","names":["enumerables","clone","item","cloneDom","undefined","nodeType","cloneNode","type","Object","prototype","toString","call","i","j","k","newClone","key","Date","getTime","length","constructor","hasOwnProperty"],"sources":["../../../src/core/clone.ts"],"sourcesContent":["const enumerables = ['valueOf', 'toLocaleString', 'toString', 'constructor']\n\n/**\n * Clone simple variables including array, {}-like objects, DOM nodes and Date without\n * keeping the old reference. A reference for the object itself is returned if it's not\n * a direct descendant of Object.\n *\n * @param {Object} item The variable to clone\n * @param {Boolean} [cloneDom=true] `true` to clone DOM nodes.\n * @return {Object} clone\n */\nexport default function clone(item: any, cloneDom: boolean = true): any {\n  if (item === null || item === undefined) {\n    return item\n  }\n\n  if (cloneDom && item.nodeType && item.cloneNode) {\n    return item.cloneNode(true)\n  }\n\n  const type = Object.prototype.toString.call(item)\n  let i, j, k, newClone, key\n\n  // Date\n  if (type === '[object Date]') {\n    return new Date(item.getTime())\n  }\n\n  // Array\n  if (type === '[object Array]') {\n    i = item.length\n\n    newClone = []\n\n    while (i--) {\n      newClone[i] = clone(item[i], cloneDom)\n    }\n  }\n  // Object\n  else if (type === '[object Object]' && item.constructor === Object) {\n    newClone = <Record<string, any>>{}\n\n    for (key in item) {\n      newClone[key] = clone(item[key], cloneDom)\n    }\n\n    if (enumerables) {\n      for (j = enumerables.length; j--; ) {\n        k = enumerables[j]\n        if (Object.prototype.hasOwnProperty.call(item, k)) {\n          newClone[k] = item[k]\n        }\n      }\n    }\n  }\n\n  return newClone || item\n}\n"],"mappings":"AAAA,MAAMA,WAAW,GAAG,CAAC,SAAD,EAAY,gBAAZ,EAA8B,UAA9B,EAA0C,aAA1C,CAApB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,KAAT,CAAeC,IAAf,EAA0BC,QAAiB,GAAG,IAA9C,EAAyD;EACtE,IAAID,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAKE,SAA9B,EAAyC;IACvC,OAAOF,IAAP;EACD;;EAED,IAAIC,QAAQ,IAAID,IAAI,CAACG,QAAjB,IAA6BH,IAAI,CAACI,SAAtC,EAAiD;IAC/C,OAAOJ,IAAI,CAACI,SAAL,CAAe,IAAf,CAAP;EACD;;EAED,MAAMC,IAAI,GAAGC,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BT,IAA/B,CAAb;EACA,IAAIU,CAAJ,EAAOC,CAAP,EAAUC,CAAV,EAAaC,QAAb,EAAuBC,GAAvB,CAVsE,CAYtE;;EACA,IAAIT,IAAI,KAAK,eAAb,EAA8B;IAC5B,OAAO,IAAIU,IAAJ,CAASf,IAAI,CAACgB,OAAL,EAAT,CAAP;EACD,CAfqE,CAiBtE;;;EACA,IAAIX,IAAI,KAAK,gBAAb,EAA+B;IAC7BK,CAAC,GAAGV,IAAI,CAACiB,MAAT;IAEAJ,QAAQ,GAAG,EAAX;;IAEA,OAAOH,CAAC,EAAR,EAAY;MACVG,QAAQ,CAACH,CAAD,CAAR,GAAcX,KAAK,CAACC,IAAI,CAACU,CAAD,CAAL,EAAUT,QAAV,CAAnB;IACD;EACF,CARD,CASA;EATA,KAUK,IAAII,IAAI,KAAK,iBAAT,IAA8BL,IAAI,CAACkB,WAAL,KAAqBZ,MAAvD,EAA+D;IAClEO,QAAQ,GAAwB,EAAhC;;IAEA,KAAKC,GAAL,IAAYd,IAAZ,EAAkB;MAChBa,QAAQ,CAACC,GAAD,CAAR,GAAgBf,KAAK,CAACC,IAAI,CAACc,GAAD,CAAL,EAAYb,QAAZ,CAArB;IACD;;IAED,IAAIH,WAAJ,EAAiB;MACf,KAAKa,CAAC,GAAGb,WAAW,CAACmB,MAArB,EAA6BN,CAAC,EAA9B,GAAoC;QAClCC,CAAC,GAAGd,WAAW,CAACa,CAAD,CAAf;;QACA,IAAIL,MAAM,CAACC,SAAP,CAAiBY,cAAjB,CAAgCV,IAAhC,CAAqCT,IAArC,EAA2CY,CAA3C,CAAJ,EAAmD;UACjDC,QAAQ,CAACD,CAAD,CAAR,GAAcZ,IAAI,CAACY,CAAD,CAAlB;QACD;MACF;IACF;EACF;;EAED,OAAOC,QAAQ,IAAIb,IAAnB;AACD"}